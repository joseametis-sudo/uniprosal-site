<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UNIPROSAL · Colegios Profesionales Sanitarios de Almería</title>
  <meta name="description" content="UNIPROSAL representa a los colegios profesionales sanitarios de Almería: noticias, galería, documentos y contacto." />
  <meta name="theme-color" content="#0e7490" />
  <meta property="og:image" content="https://drive.google.com/uc?export=view&id=14edhaHMPjkztu07Hgu7lNOEdDMsitaPR" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <style>
    :root{--bg:#0b1220; --bg-soft:#0f172a; --text:#eaf7ff; --muted:#a6bac6; --brand:#14b8a6; --brand2:#06b6d4; --accent:#38bdf8; --card:#0f2e38; --border:#13424d; --radius:18px; --shadow:0 8px 30px rgba(0,0,0,.35); --maxw:1100px}
    *{box-sizing:border-box}
    body{margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Arial; color:var(--text); background:radial-gradient(1200px 800px at 10% -10%,rgba(20,184,166,.12),transparent 60%), radial-gradient(1000px 600px at 90% 0%,rgba(6,182,212,.10),transparent 60%), linear-gradient(180deg,var(--bg),var(--bg-soft) 55%)}
    a{color:var(--accent); text-decoration:none} a:hover{text-decoration:underline}
    .container{max-width:var(--maxw); margin-inline:auto; padding:0 20px}
    header{position:sticky; top:0; z-index:50; backdrop-filter:blur(8px); background:rgba(6,15,25,.55); border-bottom:1px solid rgba(99,179,189,.15)}
    .nav{display:flex; align-items:center; justify-content:space-between; padding:12px 0}
    .brand{display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.3px}
    .brand img{height:42px; width:auto; border-radius:8px; box-shadow:0 2px 10px rgba(0,0,0,.25)}
    .brand span{font-family:Montserrat,Inter,sans-serif}
    nav ul{display:flex; gap:1rem; list-style:none; padding:0; margin:0}
    nav a{color:var(--text)}
    .menu-btn{display:none}
    .btn{display:inline-flex; align-items:center; gap:.6rem; padding:.9rem 1.1rem; border-radius:999px; border:0; cursor:pointer; background:linear-gradient(135deg,var(--brand),var(--brand2)); color:#001014; font-weight:700}
    .btn.secondary{background:#0b1f26; color:var(--text); border:1px solid #12414d}
    .hero .inner{display:grid; grid-template-columns:1.15fr 1fr; gap:28px; align-items:center; padding:40px 0 18px}
    .headline{font:700 clamp(1.9rem,3.2vw,2.6rem)/1.1 Montserrat,Inter,sans-serif; margin:0 0 10px}
    .sub{color:var(--muted); margin:0 0 22px}
    .stats{display:grid; grid-template-columns:repeat(3,1fr); gap:12px; margin-top:12px}
    .stat{background:#0a1d23; border:1px solid #12343d; padding:14px; border-radius:14px; text-align:center}
    .stat strong{display:block; font-size:1.35rem}
    .hero-illus{position:relative; aspect-ratio:4/3; border-radius:18px; overflow:hidden; box-shadow:var(--shadow); border:1px solid rgba(56,189,248,.25); background:#0b1f26; display:flex; align-items:center; justify-content:center; padding:10px}
    .hero-illus img{width:100%; height:100%; object-fit:contain}
    .pulse{position:absolute; inset:0; pointer-events:none; background:radial-gradient(160px 160px at var(--x,60%) var(--y,40%),rgba(56,189,248,.18),transparent 60%)}
    section{padding:50px 0}
    .section-title{font:700 1.6rem/1.2 Montserrat,Inter,sans-serif; margin:0 0 10px}
    .section-sub{color:var(--muted); margin:0 0 18px}
    .card{background:var(--card); border:1px solid rgba(56,189,248,.18); border-radius:18px; padding:20px; box-shadow:0 4px 18px rgba(0,0,0,.25)}
    .chips{display:flex; flex-wrap:wrap; gap:10px}
    .chip{padding:8px 12px; background:#0b1f26; border:1px solid #13424d; border-radius:999px; font-weight:600; color:#d0f7ff}
    .gallery-grid{display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:12px}
    .gallery-item{border-radius:12px; overflow:hidden; border:1px solid #174e5c; background:#0b1f26}
    .gallery-item img{width:100%; height:100%; object-fit:cover; display:block}
    .news-grid{display:grid; grid-template-columns:repeat(auto-fill,minmax(320px,1fr)); gap:16px}
    .news-card{background:#091a20; border:1px solid rgba(99,179,189,.18); border-radius:16px; padding:16px}
    .news-date{color:#9ad7ff; font-weight:600; margin-bottom:.5rem}
    .contact-grid{display:grid; grid-template-columns:1.1fr .9fr; gap:18px}
    footer{padding:26px 0; border-top:1px solid rgba(56,189,248,.18); color:var(--muted)}
    @media (max-width:980px){.hero .inner{grid-template-columns:1fr} .contact-grid{grid-template-columns:1fr}}
    @media (max-width:640px){nav ul{display:none} .menu-btn{display:inline-flex; align-items:center; gap:8px; padding:.6rem .9rem; border-radius:10px; background:#0b1f26; color:var(--text); border:1px solid #133e49}}
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand">
        <img src="https://drive.google.com/uc?export=view&id=14edhaHMPjkztu07Hgu7lNOEdDMsitaPR" alt="Logo UNIPROSAL" />
        <span>UNIPROSAL</span>
      </div>
      <nav>
        <ul id="menu">
          <li><a href="#quienes">Quiénes somos</a></li>
          <li><a href="#colegios">Colegios</a></li>
          <li><a href="#componentes">Componentes</a></li>
          <li><a href="#instagram">Instagram</a></li>
          <li><a href="#noticias">Noticias</a></li>
          <li><a href="#contacto">Contacto</a></li>
        </ul>
      </nav>
      <button class="menu-btn" id="menuBtn" aria-expanded="false" aria-controls="menu">Menú</button>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container inner">
        <div>
          <h1 class="headline">Colegios Profesionales Sanitarios de Almería</h1>
          <p class="sub">UNIPROSAL representa a los colegios sanitarios de la provincia, promoviendo la salud pública, la ética profesional y la colaboración intercolegial.</p>
          <div style="display:flex; gap:10px; flex-wrap:wrap">
            <a class="btn" href="#contacto">Contactar</a>
            <a class="btn secondary" href="#quienes">Conócenos</a>
          </div>
          <div class="stats">
            <div class="stat"><strong>9</strong><span>Colegios representados</span></div>
            <div class="stat"><strong>+7k</strong><span>Profesionales</span></div>
            <div class="stat"><strong>2009</strong><span>Año de referencia*</span></div>
          </div>
          <p class="sub" style="margin-top:6px">*Valores orientativos. Actualiza estos datos según corresponda.</p>
        </div>
        <div class="hero-illus" aria-label="Logo UNIPROSAL">
          <img src="https://drive.google.com/uc?export=view&id=14edhaHMPjkztu07Hgu7lNOEdDMsitaPR" alt="Logo UNIPROSAL grande" />
          <div class="pulse" id="pulse"></div>
        </div>
      </div>
    </section>

    <section id="quienes">
      <div class="container">
        <div class="card" style="margin-bottom:16px">
          <h2 class="section-title">Quiénes somos</h2>
          <p>Somos una asociación intercolegial sin ánimo de lucro que agrupa y coordina a los colegios profesionales sanitarios de la provincia de Almería. Nuestro objetivo es impulsar iniciativas conjuntas que favorezcan la calidad asistencial, la formación continuada, la investigación aplicada y la defensa de la deontología profesional.</p>
          <p>Actuamos como interlocutor ante administraciones, universidades y agentes sociales, promoviendo proyectos colaborativos y campañas de salud pública con impacto provincial.</p>
        </div>
      </div>
    </section>

    <section id="colegios">
      <div class="container">
        <h2 class="section-title">Colegios de Andalucía</h2>
        <p class="section-sub">Consejos/colegios andaluces (se abren en nueva pestaña).</p>
        <div class="chips">
          <a class="chip" href="https://consejoandaluzenfermeria.com/" target="_blank" rel="noopener">Enfermería</a>
          <a class="chip" href="https://colfisio.org/" target="_blank" rel="noopener">Fisioterapia</a>
          <a class="chip" href="https://www.coooa.org/" target="_blank" rel="noopener">Óptica-Optometría</a>
          <a class="chip" href="https://codinan.org/" target="_blank" rel="noopener">Dietistas-Nutricionistas</a>
          <a class="chip" href="https://coptoand.org/" target="_blank" rel="noopener">Terapia Ocupacional</a>
          <a class="chip" href="https://www.dentistasandalucia.com/" target="_blank" rel="noopener">Odontología</a>
          <a class="chip" href="https://cacm.es/" target="_blank" rel="noopener">Medicina</a>
          <a class="chip" href="https://www.copao.com/" target="_blank" rel="noopener">Psicología (Oriental)</a>
          <a class="chip" href="https://www.copao.es/" target="_blank" rel="noopener">Psicología (Occidental)</a>
          <a class="chip" href="https://www.cacof.es/" target="_blank" rel="noopener">Farmacia</a>
        </div>
      </div>
    </section>

    <section id="componentes">
      <div class="container">
        <h2 class="section-title">Componentes</h2>
        <p class="section-sub">Fotos de los componentes de UNIPROSAL. Puedes alimentar esta sección con la carpeta de Drive o pegando IDs de archivos individuales.</p>
        <div class="card" style="margin-bottom:16px">
          <h3 style="margin:0 0 10px">Carpeta de Drive</h3>
          <iframe id="driveFolderComponentes" style="width:100%; height:520px; border:0; border-radius:12px; background:#0b1f26"></iframe>
        </div>
        <div class="card">
          <h3 style="margin:0 0 10px">Destacados</h3>
          <div class="gallery-grid" id="driveGridComponentes"></div>
        </div>
      </div>
    </section>

    <section id="instagram">
      <div class="container">
        <h2 class="section-title">Instagram</h2>
        <p class="section-sub">Últimas publicaciones de @uniprosal (embeds oficiales).</p>
        <div class="gallery-grid" id="igGrid"></div>
      </div>
    </section>

    <section id="noticias">
      <div class="container">
        <h2 class="section-title">Noticias</h2>
        <p class="section-sub">Actualidad de UNIPROSAL en Almería.</p>
        <div class="news-grid" id="newsGrid"></div>
      </div>
    </section>

    <section id="contacto">
      <div class="container contact-grid">
        <div class="card">
          <h2 class="section-title">Contacto</h2>
          <p>Para consultas, propuestas de colaboración o prensa:</p>
          <p><strong>Correo:</strong> <a href="mailto:uniprsalsanitarios@gmail.com">uniprsalsanitarios@gmail.com</a></p>
          <p><strong>Ubicación:</strong> Almería, Andalucía</p>
        </div>
        <div class="card">
          <h3 style="margin-top:0">Envíanos un mensaje</h3>
          <form action="mailto:uniprsalsanitarios@gmail.com" method="post" enctype="text/plain" onsubmit="alert('Se abrirá tu cliente de correo para enviar el mensaje.');">
            <div style="display:grid; gap:10px">
              <label>Nombre<br><input required name="nombre" placeholder="Tu nombre" style="width:100%; padding:10px; border-radius:8px; border:1px solid #174e5c; background:#0b1f26; color:var(--text)"></label>
              <label>Correo<br><input required type="email" name="email" placeholder="tu@correo.com" style="width:100%; padding:10px; border-radius:8px; border:1px solid #174e5c; background:#0b1f26; color:var(--text)"></label>
              <label>Mensaje<br><textarea required name="mensaje" rows="5" placeholder="Cuéntanos en qué podemos ayudarte" style="width:100%; padding:10px; border-radius:8px; border:1px solid #174e5c; background:#0b1f26; color:var(--text)"></textarea></label>
              <button class="btn" type="submit">Enviar</button>
            </div>
            <p class="sub">Para formularios sin email local, puedes integrar Netlify Forms o Formspree.</p>
          </form>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container" style="display:flex; gap:12px; justify-content:space-between; align-items:center; flex-wrap:wrap">
      <div>© <span id="year"></span> UNIPROSAL · Unión de Profesionales Sanitarios de Almería</div>
      <div style="display:flex; gap:14px">
        <a href="#">Aviso legal</a>
        <a href="#">Privacidad</a>
        <a href="#">Accesibilidad</a>
      </div>
    </div>
  </footer>

  <script>
    const pulse=document.getElementById('pulse'); if(pulse){document.addEventListener('pointermove',e=>{const x=(e.clientX/innerWidth)*100; const y=(e.clientY/innerHeight)*100; pulse.style.setProperty('--x',x+'%'); pulse.style.setProperty('--y',y+'%');});}
    const menuBtn=document.getElementById('menuBtn'); const menu=document.getElementById('menu'); menuBtn?.addEventListener('click',()=>{const visible=getComputedStyle(menu).display!=='none'; menu.style.display=visible?'none':'flex'; menuBtn.setAttribute('aria-expanded', String(!visible));});
    document.getElementById('year').textContent=new Date().getFullYear();

    // CONFIG (carpeta de componentes + destacados)
    const DRIVE_COMPONENTES_FOLDER_ID = "1iIvZYL_JBVsPu2Otb8qQkn2tPS37Dv84";
    const DRIVE_COMPONENTES_FILE_IDS = ["14edhaHMPjkztu07Hgu7lNOEdDMsitaPR"];

    // Fetch helpers
    async function fetchJSON(url){
      try{
        const res = await fetch(url, {cache:"no-store"});
        if(!res.ok) throw new Error("HTTP "+res.status);
        return await res.json();
      }catch(e){
        console.error("No se pudo cargar", url, e);
        return null;
      }
    }

    // Render carpeta
    (function renderComponentesFolder(){
      const el = document.getElementById("driveFolderComponentes");
      if(!el) return;
      if (DRIVE_COMPONENTES_FOLDER_ID) {
        el.src = `https://drive.google.com/embeddedfolderview?id=${DRIVE_COMPONENTES_FOLDER_ID}#grid`;
      } else {
        el.style.display = "none";
      }
    })();

    // Render grid destacados
    (function renderComponentesGrid(){
      const grid = document.getElementById("driveGridComponentes");
      if(!grid) return;
      if (!Array.isArray(DRIVE_COMPONENTES_FILE_IDS) || !DRIVE_COMPONENTES_FILE_IDS.length) {
        grid.innerHTML = `<p class="sub">Añade IDs de imágenes en <code>DRIVE_COMPONENTES_FILE_IDS</code> para ver la galería de destacados.</p>`;
        return;
      }
      grid.innerHTML = DRIVE_COMPONENTES_FILE_IDS.map(id=>{
        const url = `https://drive.google.com/uc?export=view&id=${id}`;
        return `<div class="gallery-item"><a href="${url}" target="_blank" rel="noopener"><img src="${url}" alt="Componente UNIPROSAL" loading="lazy"></a></div>`;
      }).join('');
    })();

    // Render Instagram desde /data/instagram.json
    (async function renderInstagram(){
      const el = document.getElementById('igGrid');
      if(!el) return;
      const posts = await fetchJSON('./data/instagram.json');
      if(!posts || !posts.length){
        el.innerHTML = '<p class="sub">Añade URLs de posts en <code>/data/instagram.json</code> para mostrar la galería de Instagram.</p>';
        return;
      }
      el.innerHTML = posts.map(u=>`
        <div class="gallery-item" style="padding:8px; background:#0b1f26">
          <blockquote class="instagram-media" data-instgrm-permalink="${u}" data-instgrm-version="14" style="background:#fff; border:0; border-radius:12px; margin:0;"></blockquote>
        </div>
      `).join('');
      // Instagram script re-render
      if(window.instgrm && window.instgrm.Embeds){ window.instgrm.Embeds.process(); }
    })();

    // Render Noticias desde /data/news.json
    (async function renderNews(){
      const grid = document.getElementById('newsGrid');
      if(!grid) return;
      const NEWS = await fetchJSON('./data/news.json');
      if(!NEWS || !NEWS.length){
        grid.innerHTML = '<p class="sub">Añade noticias en <code>/data/news.json</code>.</p>';
        return;
      }
      const card = (n) => {
        const ig = n.instagram ? `<div class="gallery-item" style="padding:8px; background:#0b1f26; margin-bottom:10px">
          <blockquote class="instagram-media" data-instgrm-permalink="${n.instagram}" data-instgrm-version="14" style="background:#fff; border:0; border-radius:12px; margin:0;"></blockquote>
        </div>` : '';
        return `<div class="news-card">
          ${ig}
          <div class="news-date">${n.date||''}</div>
          <h3 style="margin:.2rem 0 .4rem; font-size:1.15rem">${n.title||''}</h3>
          <p class="sub" style="color:#cfe9f6">${n.text||''}</p>
        </div>`;
      };
      grid.innerHTML = NEWS.map(card).join('');
      if(window.instgrm && window.instgrm.Embeds){ window.instgrm.Embeds.process(); }
    })();
  </script>

  <script async src="https://www.instagram.com/embed.js"></script>
</body>
</html>